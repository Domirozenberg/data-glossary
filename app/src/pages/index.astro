---
import Layout from '../layouts/Layout.astro';
import topicsData from '../data/topics.json';
const { categories } = topicsData;

const areas: { id: string; title: string; description: string }[] = [
  { id: 'architecture', title: 'Architecture & design', description: 'How data systems are designed; pipelines, lakes, warehouses, mesh.' },
  { id: 'architecture', title: 'Real-time vs batch', description: 'Streaming, batch, lambda/kappa, event-driven.' },
  { id: 'modeling', title: 'Data modeling', description: 'Star schema, dimensions, facts, normalization, SCDs.' },
  { id: 'storage', title: 'Storage', description: 'Where data lives: object storage, partitioning, tiering, compression.' },
  { id: 'databases', title: 'Databases', description: 'SQL, NoSQL, vector, graph, time-series, indexing.' },
  { id: 'ingestion', title: 'Ingestion', description: 'Getting data in: batch, streaming, CDC, APIs, webhooks.' },
  { id: 'transformation', title: 'Transformation', description: 'Cleansing, joining, aggregation, schema evolution.' },
  { id: 'quality', title: 'Data quality & validation', description: 'Profiling, validation, testing.' },
  { id: 'governance', title: 'Governance & catalog', description: 'Catalog, lineage, metadata, security.' },
  { id: 'orchestration', title: 'Orchestration', description: 'Scheduling, workflow, pipeline runs.' },
  { id: 'formats', title: 'Formats & serialization', description: 'Parquet, Avro, JSON, columnar.' },
  { id: 'patterns', title: 'Integration patterns', description: 'ETL, ELT, replication, sync.' },
  { id: 'observability', title: 'Observability', description: 'Monitoring, reliability, data observability.' },
  { id: 'ai-ml', title: 'AI, ML & analytics', description: 'ML pipelines, BI, conversational analytics.' },
  { id: 'version-control', title: 'Version control & Git', description: 'Repos, branches, PRs, workflow.' },
];
---

<Layout title="Data Pipeline Glossary">
  <div class="home-hero">
    <h1>Data Pipeline Glossary</h1>
    <p class="home-hero-lead">
      Search the glossary in the sidebar, or explore by area below. Each topic is a one-page explanation of a key concept.
    </p>
  </div>

  <section class="home-areas" aria-labelledby="explore-heading">
    <h2 id="explore-heading" class="home-areas-title">Explore by area</h2>
    <div class="area-grid">
      {areas.map((area) => (
        <a href={`/category/${area.id}`} class="area-card">
          <span class="area-card-title">{area.title}</span>
          <span class="area-card-desc">{area.description}</span>
          <span class="area-card-link">Explore â†’</span>
        </a>
      ))}
    </div>
  </section>

  <section class="home-all-categories" aria-labelledby="all-cats-heading">
    <h2 id="all-cats-heading" class="home-areas-title">All categories</h2>
    <ul class="home-cat-list">
      {categories.map((cat) => (
        <li>
          <a href={`/category/${cat.id}`} class="btn home-cat-btn">{cat.label}</a>
          <span class="home-cat-count">({cat.topics.length} topics)</span>
        </li>
      ))}
    </ul>
  </section>
</Layout>
